# ==================== 商业化系统配置 ====================
#
# ⚠️ 安全说明：
# 1. 复制此文件为 .env 并填写真实的配置值
# 2. .env 文件包含敏感信息，已被 .gitignore 排除，不会提交到 git
# 3. 切勿将真实密钥、密码提交到代码仓库
#
# ========================================================

# 数据库配置
DATABASE_URL=postgresql+asyncpg://postgres:postgres123@localhost:5432/idoctor_commercial

# JWT配置（⚠️ 生产环境请生成新的强密钥）
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# 服务端口
AUTH_SERVICE_PORT=9001
PAYMENT_SERVICE_PORT=9002

# 认证和配额开关
ENABLE_AUTH=true
ENABLE_QUOTA=true

# CORS配置（添加前端地址）
CORS_ORIGINS=["http://localhost:3000","http://localhost:7500","http://localhost:4200"]

# Redis
REDIS_URL=redis://localhost:6379/0

# ==================== 邮箱 SMTP 配置 ====================
# Gmail 示例（需要使用应用专用密码）：
# 1. 开启 Gmail 两步验证
# 2. 生成应用专用密码：https://myaccount.google.com/apppasswords
# 3. 使用应用专用密码而不是Gmail登录密码
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=your-email@gmail.com
SMTP_FROM_NAME=iDoctor
EMAIL_VERIFICATION_CODE_EXPIRE_MINUTES=10

# ==================== 支付宝配置（沙箱环境）====================
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY_PATH=./keys/alipay_private_key.pem
ALIPAY_PUBLIC_KEY_PATH=./keys/alipay_public_key.pem
ALIPAY_GATEWAY=https://openapi.alipaydev.com/gateway.do
ALIPAY_RETURN_URL=http://localhost:3000/payment/callback
ALIPAY_NOTIFY_URL=http://your-domain.com/webhooks/alipay

# ==================== 微信支付配置（沙箱环境）====================
WECHAT_APP_ID=your_wechat_app_id
WECHAT_MCH_ID=your_wechat_mch_id
WECHAT_API_KEY=your_wechat_api_key
WECHAT_CERT_PATH=./keys/apiclient_cert.pem
WECHAT_KEY_PATH=./keys/apiclient_key.pem
WECHAT_NOTIFY_URL=http://your-domain.com/webhooks/wechat

# 环境
ENVIRONMENT=development
