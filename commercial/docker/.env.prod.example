# iDoctor Commercial 生产环境配置示例
# 复制此文件为 .env.prod 并修改配置

# ==================== Nginx 配置 ====================
# Nginx 容器内部监听端口
NGINX_PORT=3000

# Nginx 外部映射端口（服务器上实际访问的端口）
NGINX_EXTERNAL_PORT=55305

# 服务器域名或IP
NGINX_SERVER_NAME=ai.bygpu.com

# ==================== 后端服务配置 ====================
# 主应用 API 地址（Nginx 从容器内访问）
# 如果主应用在宿主机运行，使用 host.docker.internal
# 如果主应用也在 Docker 中，使用服务名
IDOCTOR_API_HOST=host.docker.internal
IDOCTOR_API_PORT=4200

# 注意：CTAI_web 也通过同样的 IDOCTOR_API_HOST 代理
# - CTAI_web 应运行在宿主机 7500 端口
# - Nginx 通过 /ctai 路径代理到 ${IDOCTOR_API_HOST}:7500
# - 启动命令：cd CTAI_web && npm run server (使用 .env.production)

# ==================== 数据库配置 ====================
# 生产环境数据库密码（建议修改）
POSTGRES_PASSWORD=your_secure_password_here

# ==================== SAM2 分割服务配置 ====================
# SAM2 模型路径（容器内）
SAM2_MODEL_PATH=/app/models/sam2_hiera_large.pt

# SAM2 推理设备（cpu 或 cuda）
SAM2_DEVICE=cpu

# SAM2 批处理大小
SAM2_BATCH_SIZE=1

# SAM2 置信度阈值（0.0-1.0）
SAM2_CONFIDENCE_THRESHOLD=0.5

# 是否启用 SAM2 服务（true/false）
SAM2_ENABLED=true

# ==================== 其他配置 ====================
# 可选：配置日志级别
# LOG_LEVEL=info
