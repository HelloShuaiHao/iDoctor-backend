# iDoctor Commercial 生产环境配置
# 用于 docker-compose.prod.yml

# ==================== Nginx 配置 ====================
# Nginx 容器内部监听端口
NGINX_PORT=3000

# Nginx 外部映射端口（服务器上实际访问的端口）
NGINX_EXTERNAL_PORT=55305

# 服务器域名或IP
NGINX_SERVER_NAME=ai.bygpu.com

# ==================== 后端服务配置 ====================
# 主应用 API 地址（Nginx 从容器内访问）
# Linux 服务器不支持 host.docker.internal，需要使用服务器的实际内网 IP
IDOCTOR_API_HOST=192.166.101.3
IDOCTOR_API_PORT=4200

# 注意：CTAI_web 也通过同样的 IDOCTOR_API_HOST 代理
# - CTAI_web 应运行在宿主机 7500 端口
# - Nginx 通过 /ctai 路径代理到 ${IDOCTOR_API_HOST}:7500
# - 启动命令：cd CTAI_web && npm run server (使用 .env.production)

# ==================== SAM2 Video Annotation Application ====================
# SAM2 新应用运行在宿主机，通过 Nginx 反向代理访问
# - 前端访问: http://ai.bygpu.com:55305/sam2/
# - 后端API: http://ai.bygpu.com:55305/api/sam2/
# - SAM2 应用应运行在宿主机 7262(前端) 和 7263(后端) 端口
# - 启动命令：cd sam2 && docker compose down && docker compose build --no-cache && docker compose up -d

# SAM2 前端地址（Nginx 从容器内访问宿主机）
SAM2_NEW_FRONTEND_HOST=192.166.101.3
SAM2_NEW_FRONTEND_PORT=7262

# SAM2 后端地址（Nginx 从容器内访问宿主机）
SAM2_NEW_BACKEND_HOST=192.166.101.3
SAM2_NEW_BACKEND_PORT=7263

# ==================== 数据库配置 ====================
# 生产环境数据库密码
POSTGRES_PASSWORD=postgres123
